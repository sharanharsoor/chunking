# DOC/DOCX section-based chunking configuration
# This config chunks documents by sections (based on headings)

chunking_strategy:
  name: "doc_chunker"

# Document-specific parameters
strategies:
  primary: "doc_chunker"
  fallback: ["markdown_chunker", "paragraph_based"]

  configs:
    doc_chunker:
      # Chunking strategy - split by document sections
      chunk_by: "sections"

      # Heading-based section detection
      heading_levels: [1, 2]  # Only use H1 and H2 for section breaks

      # Content processing options
      preserve_formatting: true   # Keep bold, italic, font info
      extract_tables: true       # Extract tables as separate chunks
      extract_images: false      # Skip images for now

      # Size constraints (more flexible for section-based)
      min_chunk_size: 200         # Larger minimum for sections
      max_chunk_size: 12000       # Allow larger sections
      chunk_overlap: 0            # No overlap for section-based

      # Backend preference
      backend: "python-docx"      # Prefer python-docx for heading detection

# Processing options
processing:
  use_gpu: false
  max_workers: 2

  # Memory settings for larger chunks
  chunk_memory_limit: "1GB"

  # Quality settings
  enable_validation: true
  quality_threshold: 0.8

# Output options
output:
  include_metadata: true
  preserve_structure: true
  include_hierarchy: true

  # Section-specific output options
  include_heading_metadata: true
  section_numbering: true

# Use case: Academic papers, technical documentation, reports
# Example usage:
# python -m chunking_strategy.cli chunk research_paper.docx --config config_examples/doc_sections.yaml
